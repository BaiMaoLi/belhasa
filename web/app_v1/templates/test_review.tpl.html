<style>
    ul {
        list-style: none;
    }
    li {
        display: inline-block;
        margin-right: 15px;
    }
    input[type="radio"] {
        opacity: 0;
    }
    label {
        cursor: pointer
    }
    input:checked + label{
        position: relative;
        display: inline-block;
        padding: 15px 25px;
        background: #E46C0A;
        text-decoration: none;
        color: #fff;
        font-size: 25px;
        font-weight: 100;
        border-radius: 3px;
        box-shadow: 0px 1px 4px -2px #333;
        text-shadow: 0px -1px #333;
        border-color: #797B7B;
    }
    .correct{
        margin-right: 10px;
        background-color: #DFF0D8;
        width: 500px;
        border: 1px solid #DFF0D8;
        border-radius: 5px;
        height: inherit;
        padding-top: 10px;
        padding-left: 10px;
        word-wrap: break-word;
        padding: 10px;
    }
    .incorrect{
        margin-right: 10px;
        background-color: #F2DEDE;
        width: 500px;
        border: 1px solid #F2DEDE;
        border-radius: 5px;
        height: inherit;
        padding-top: 10px;
        padding-left: 10px;
        word-wrap: break-word;
        padding: 10px;
    }
    .normal{
        margin-right: 10px;
        width: 75px;
        border: 5px solid black;
        border-radius: 5px;
        height: 75px;
        background: #984807;
    }
    #counter{
        font:Verdana, Geneva, sans-serif;
        font-size:18px;
        text-align:left;
        height:50px;
        display: table;
        width: 100%;
    }
    #scroller {
        overflow: auto;
        height: 100px;
    }

    #counter span {
        vertical-align:middle;
        display: table-cell;
    }
    .test-option{
        padding-top: 0px;
        padding-bottom: 10px;
    }
    .modal{
        height: 100%;
    }
    .modal-dialog{
        height: 100%;
    }
    .modal-content{
        height: 100%;
    }
    body{
        margin-bottom: 200px;
    }
    td{
        padding: 5px;
    }
    .testbtn{
        background: #686868;
        color: white;
        border: 2px solid;
        border-color: white;
    }
    .testbtn:hover{
        background: #686868;
        color: yellow;
        border: 2px solid;
        border-color: yellow;
    }
    button{
        font-size: 20px;
    }
    body{
        color: #000000 !important;
        font-size: 16px !important;
    }
    .PopupPanel
    {
        border: solid 1px black;
        position: fixed;
        left: 50%;
        top: 50%;
        background-color: white;
        z-index: 100;

        height: 230px;
        margin-top: -10%;

        width: 550px;
        margin-left: -300px;
    }
    #rtl_screen{
        direction: rtl;  /* Right to Left */
    }
    #popup-background {
        background: #000;
        position: fixed;
        width: 130%;
        bottom: 0;
        height: 100vh;
        top: 0;
        margin-left: -10%;
        z-index: 99;
        opacity: .5;
    }
</style>
<div ng-if="loadscript">
    <script>
                $(document).ready(function() {
        $("table").each(function() {
        var $this = $(this);
                var newrows = [];
                $this.find("tr").each(function(){
        var i = 0;
                $(this).find("td").each(function(){
        i++;
                if (newrows[i] === undefined) { newrows[i] = $("<tr></tr>"); }
        newrows[i].append($(this));
        });
        });
                $this.find("tr").remove();
                $.each(newrows, function(){
                $this.append(this);
                });
        });
                });</script>
</div>
<div data-ng-if="rtl_screen">
    <style>
        .modal-body{
            direction: rtl;
        }
        #reviewbar{
            width: 110%;
            margin-right: -5%;
        }
        .pull-right{
            float: left !important;
        }
        .pull-left{
            float: right !important;
        }
    </style>
</div>

<div data-ng-if="showReview">
    <div class="modal-header" style="background-color: #686868; height: 35px;">
        <div ng-if="!rtl_screen">
            <span class ="testtile" style="margin-top: -1%;">{{'table.testfor'| translate}} {{titlecategory}} - {{'table.candidate_name'| translate}} - {{user_name}}</span>
            <span class ="testtimer" ><i class="fa fa-clock-o" aria-hidden="true"></i>{{'table.timerem'| translate}} : {{timer}}</span>
        </div>
        <div ng-if="rtl_screen" style="direction: rtl;">
            <span class ="testtile" style="margin-top: -1%;">{{'table.testfor'| translate}} {{titlecategory}} - {{'table.candidate_name'| translate}} - {{user_name}}</span>
            <span class ="rtltesttimer" ><i class="fa fa-clock-o" aria-hidden="true"></i>&nbsp{{'table.timerem'| translate}} : {{timer}}</span>
        </div>
    </div>
    <div class="modal-body" data-ng-init='loadReview()' style="position: static;">
        <div style="height:100%; width: 90%; margin: 5px auto;">

            <div data-ng-if='loader' style='min-height: 300px !important; padding-top: 100px; text-align: center;'>
                <img data-ng-src='/app/assets/images/app-loader.gif'/>
            </div>
            <p style="text-align: center; font-size: 20px;">{{'review.section_review'| translate}}</p>
            <div>
                <div class="panel-group" id="reviewbar">
                    <div class="panel panel-default">
                        <div class="panel-heading" style="background-color: #984807; color: white;">
                            <h4 class="panel-title">
                                <a data-toggle="collapse" href="#collapse1"><i class="fa fa-minus-square-o" aria-hidden="true"></i></a>
                                <span>{{'review.instruction'| translate}}</span>
                            </h4>
                        </div>
                        <div id="collapse1" class="panel-collapse collapse in">
                            <div class="panel-body">
                                {{'review.line1'| translate}}<br>
                                {{'review.line2'| translate}}<br>
                                {{'review.line3'| translate}}<br>
                                {{'review.line4'| translate}}<br>
                                {{'review.line5'| translate}}<br>
                                <br>
                                {{'review.line6'| translate}}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="panel-group" id="reviewbar">
                    <div class="panel panel-default">
                        <div class="panel-heading" style="background-color: #984807; color: white;">
                            <h4 class="panel-title">
                                <a data-toggle="collapse" href="#collapsequestion"><i class="fa fa-minus-square-o" aria-hidden="true"></i></a>
                                <span>{{'review.presented_questions'| translate}}</span>
                                <span class="pull-right">({{'review.Unseen_Unanswered'| translate}} {{unansweredCount}} )</span>
                            </h4>
                        </div>
                        <div id="collapsequestion" class="panel-collapse collapse in">
                            <div class="panel-body" style="max-height: 180px;overflow-y: scroll;">
                                <table class="table table-bordered">
                                    <tr ng-repeat="item in reviewquestion track by $index" ng-switch on="$index / tablerows == 0">
                                        <td ng-switch-when="true" ng-repeat="i in draw">
                                            <!-- {{reviewquestion[$index].question}} -->
                                            <input type='checkbox' name='marked' data-ng-model='unmark.marked[$index]' data-ng-if="reviewquestion[$index]"  value='{{reviewquestion[$index].question}}' style="opacity: 1">
                                            <a href='javascript:void(0);' ng-click="reviewByIndex($index)" data-ng-if="reviewquestion[$index]">&nbsp;{{'review.question'| translate}} {{$index + 1}}&nbsp;</a>
                                            <span data-ng-if="reviewquestion[$index].input == 0" style="color: #F03D41;" class="pull-right">{{'review.unanswered'| translate}}</span>
                                        </td>
                                    </tr>
                                    <tr ng-repeat="item in reviewquestion track by $index" ng-switch on="$index / tablerows == 1">
                                        <td ng-switch-when="true" ng-repeat="i in draw">
                                            <!-- {{reviewquestion[$index].question}} -->
                                            <input type='checkbox' name='marked' data-ng-model='unmark.marked[$index + tablerows]' data-ng-if="reviewquestion[$index + tablerows]" value='{{reviewquestion[$index + tablerows].question}}' style="opacity: 1">
                                            <a href='javascript:void(0);' ng-click="reviewByIndex($index + tablerows)" data-ng-if="reviewquestion[$index + tablerows]" >&nbsp;{{'review.question'| translate}} {{$index + tablerows + 1}}&nbsp;</a>
                                            <span data-ng-if="reviewquestion[$index + tablerows].input == 0" style="color: #F03D41;" class="pull-right">{{'review.unanswered'| translate}}</span>
                                        </td>
                                    </tr>
                                    <tr ng-repeat="item in reviewquestion track by $index" ng-switch on="$index / tablerows == 2">
                                        <td ng-switch-when="true" ng-repeat="i in draw">
                                            <!-- {{reviewquestion[$index].question}} -->
                                            <input type='checkbox' name='marked' data-ng-model='unmark.marked[$index + tablerows + tablerows]' data-ng-if="reviewquestion[$index + tablerows + tablerows]" value='{{reviewquestion[$index + tablerows + tablerows].question}}' style="opacity: 1">
                                            <a href='javascript:void(0);' ng-click="reviewByIndex($index + tablerows + tablerows)" data-ng-if="reviewquestion[$index + tablerows + tablerows]">&nbsp;{{'review.question'| translate}} {{$index + tablerows + tablerows + 1}}&nbsp;</a>
                                            <span data-ng-if="reviewquestion[$index + tablerows + tablerows].input == 0" style="color: #F03D41;" class="pull-right">{{'review.unanswered'| translate}}</span>
                                        </td>
                                    </tr>
                                </table>

                                <!-- <table class="table table-bordered">
                                    <tr ng-repeat="x in reviewquestion track by $index">
                                        <td>
                                            <input type='checkbox' name='marked' data-ng-model='unmark.marked[$index]' value='{{x.question}}' style="opacity: 1">
                                            <a href='javascript:void(0);' ng-click="reviewByIndex($index)">&nbsp;Question {{$index+1}}&nbsp;</a>
                                            <span data-ng-if="x.input == 0" style="color: #F03D41;">unanswered</span>
                                        </td>
                                    </tr>
                                </table> -->
                            </div>
                        </div>
                        <div id="testing"></div>
                    </div>
                </div>
                <div style='height: 50px; width: 100%; position: absolute; left: 0; background: #686868; bottom: 0; padding: 8px;' data-ng-if="!rtl_screen">
                    <button type='button' class='pull-right testbtn' data-ng-click='reviewMarked()'><i class="fa fa-question-circle" aria-hidden="true"></i>&nbsp;{{'review.marked_for_review'| translate}}</button>
                    <button  type='button' class='pull-right testbtn' data-ng-click='reviewUnanswered()'>&nbsp;&nbsp;{{'review.review_unanswered'| translate}}</button>
                    <button type='button' class='pull-right testbtn' data-ng-click='reviewAll()'><i class="fa fa-files-o" aria-hidden="true"></i>&nbsp;{{'review.review_all'| translate}}</button>
                    <button type='button' class='pull-left testbtn' data-ng-click='showEndMsg()'><i class="fa fa-sign-in" aria-hidden="true"></i>&nbsp;{{'review.end_review'| translate}}</button>
                </div>
                <div style='height: 50px; width: 100%; position: absolute; left: 0; background: #686868; bottom: 0; padding: 8px;' data-ng-if="rtl_screen">
                    <button type='button' class='pull-right testbtn' data-ng-click='reviewMarked()'><i class="fa fa-question-circle" aria-hidden="true"></i>&nbsp;{{'review.marked_for_review'| translate}}</button>
                    <button  type='button' class='pull-right testbtn' data-ng-click='reviewUnanswered()'>&nbsp;&nbsp;{{'review.review_unanswered'| translate}}</button>
                    <button type='button' class='pull-right testbtn' data-ng-click='reviewAll()'><i class="fa fa-files-o" aria-hidden="true"></i>&nbsp;{{'review.review_all'| translate}}</button>
                    <button type='button' class='pull-left testbtn' data-ng-click='showEndMsg()'><i class="fa fa-sign-in" aria-hidden="true"></i>&nbsp;{{'review.end_review'| translate}}</button>
                </div>
            </div>

        </div>
    </div>
</div>
<!-- end of review -->
<div id="countingtable" data-ng-if="!showReview">
    <div class="modal-header" style="background-color: #686868; height: 55px;">
        <div ng-if="!rtl_screen">
            <span class ="testtile">{{'table.testfor'| translate}} {{titlecategory}} - {{'table.candidate_name'| translate}} - {{user_name}}</span>
            <span class ="testtimer" ><i class="fa fa-clock-o" aria-hidden="true"></i>{{'table.timerem'| translate}} : {{timer}}</span>
            <span class ="testcount" ><i class="fa fa-hashtag" aria-hidden="true"></i> {{quescount}} / {{totalcount}}</span>
        </div>
        <div ng-if="rtl_screen" style="direction: rtl;">
            <span class ="testtile">{{'table.testfor'| translate}} {{titlecategory}} - {{'table.candidate_name'| translate}} - {{user_name}}</span>
            <span class ="rtltesttimer" ><i class="fa fa-clock-o" aria-hidden="true"></i>{{'table.timerem'| translate}} : {{timer}}</span>
            <span class ="rtltestcount" ><i class="fa fa-hashtag" aria-hidden="true"></i> {{quescount}} / {{totalcount}}</span>
        </div>
    </div>
    <div class="modal-body" data-ng-init='loadTest()' style="position: static;">
        <div style="height:100%; width: 90%; margin: 5px auto;">

            <div data-ng-if='loader' style='min-height: 300px !important; padding-top: 100px; text-align: center;'>
                <img data-ng-src='/app/assets/images/app-loader.gif'/>
            </div>
            <div class='alert alert-danger alert-dismissible animated flash' data-ng-if='selectoption'>
                <button type="button" class="close" aria-label="Close" data-ng-click='closeAlert()'>
                    <span aria-hidden="true">&times;</span>
                </button>
                <strong class='glyphicon glyphicon-alert'></strong> &nbsp; <span>{{'form.please_choose_your_answer'| translate}}</span>
            </div>
            <div data-ng-if='testExpiry' style='min-height: 300px !important; padding-top: 100px; text-align: center;'>
                <h3 class='text-danger'><i class='glyphicon glyphicon-alert'></i>{{'table.ansprocessing'| translate}}</h3>
            </div>
            <div class="row">
                <form data-ng-submit='nextQuestion()'>
                    <div class="col-md-12" style="padding-right: 20px;" ng-if="!rtl_screen">
                        <!-- start   -->
                        <div id='test-question' data-ng-if='!loader && !testExpiry'>
                            <div id='test-question' data-ng-if='!loader && !testExpiry' style="max-height: 520px;">
                                <div >
                                    <div style="width: 10%; display: none; margin-left: 40%; text-align: center;" data-ng-if="question.audio">
                                        <i class="fa {{audioClass}}" style='color: #2d2d86;cursor: pointer;font-size: 30px;position: relative;left: 30%;' ng-click="playAudio(question.id)"> </i>
                                        <audio controls id="{{question.id}}" style="display:none">
                                            <source data-ng-src="{{question.audio}}" type="audio/mpeg">
                                        </audio>
                                    </div>
                                    <div style="width: 10%; display: inline-block; margin-left: 40%;" data-ng-if='question.photo'>
                                        <img data-ng-src="{{question.photo}}" alt="" style="width: 140%;">
                                    </div>
                                    <div style="width: 89%; display: inline-block;" ng-click="playAudio(question.id)" data-ng-if="!stop">
                                        <span data-ng-bind='question.question' style="font-size: 30px;"></span>
                                    </div>
                                    <div style="width: 89%; display: inline-block; color: red" ng-click="playAudio(question.id)" data-ng-if="stop">
                                        <span data-ng-bind='question.question' style="font-size: 30px;"></span>
                                    </div>
                                </div>
                                <div>
                                    <table>
                                        <tr>
                                            <td>
                                                <div>
                                                    <input id="question-choice1" type="radio" value="1" ng-model="form.choice" name="choice" data-ng-if ="realtimetest === '1'" data-ng-click='checkAnswer()' data-ng-disabled='optionDisabled'/>
                                                    <input id="question-choice1" type="radio" value="1" ng-model="form.choice" name="choice" data-ng-if ="realtimetest === '0'" data-ng-change='checkAnswer()' data-ng-disabled='optionDisabled'/>
                                                    <label class="normal" for='question-choice1' style="margin-right: 10px;"></label>
                                                </div>
                                            </td>
                                            <td>
                                                <div style="width: 10%; display: none; margin-left: 40%; text-align: center;" data-ng-if="question.option1audio">
                                                    <i class="fa {{audioClass}}" style='color: #2d2d86;cursor: pointer;font-size: 30px;position: relative;left: 30%;' ng-click="playOption1(question.id + 'option1')"> </i>
                                                    <audio controls id="{{question.id}}option1" style="display:none">
                                                        <source data-ng-src="{{question.option1audio}}" type="audio/mpeg">
                                                    </audio>
                                                </div>
                                                <span for='' data-ng-bind='question.choice1' style="margin-right: 10px; font-size: 30px;" ng-click="playOption1(question.id + 'option1')" data-ng-if="!stopOption1"></span>
                                                <span for='' data-ng-bind='question.choice1' style="margin-right: 10px; color: red; font-size: 30px;" ng-click="playOption1(question.id + 'option1')" data-ng-if="stopOption1"></span>
                                            </td>

                                            <td>
                                                <div data-ng-if='question.choice1photo' style="width: 50%;">
                                                    <img data-ng-src="{{question.choice1photo}}" alt="" style="width: 100%;">
                                                </div>
                                            </td>
                                            <td>
                                                <div style="padding-left: 5px; display: flex; justify-content: center; align-items: center; ">
                                                    <span><i class='fa fa-check-circle fa-3x animated zoomIn' style="color:green" data-ng-if='optionResult.successFlag1'></i></span>
                                                    <span><i class='fa fa-times-circle fa-3x animated zoomIn' style="color: red" data-ng-if='optionResult.errorFlag1'></i></span>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <div>
                                                    <input id="question-choice2" type="radio" value="2" ng-model="form.choice" name="choice" data-ng-if ="realtimetest === '1'" data-ng-click='checkAnswer()' data-ng-disabled='optionDisabled'/>
                                                    <input id="question-choice2" type="radio" value="2" ng-model="form.choice" name="choice" data-ng-if ="realtimetest === '0'" data-ng-change='checkAnswer()' data-ng-disabled='optionDisabled'/>
                                                    <label class="normal" for='question-choice2' style="margin-right: 10px;"></label>
                                                </div>
                                            </td>
                                            <td>
                                                <div style="width: 10%; display: none; margin-left: 40%; text-align: center;" data-ng-if="question.option2audio">
                                                    <i class="fa {{audioClass}}" style='color: #2d2d86;cursor: pointer;font-size: 30px;position: relative;left: 30%;' ng-click="playOption2(question.id + 'option2')"> </i>
                                                    <audio controls id="{{question.id}}option2" style="display:none">
                                                        <source data-ng-src="{{question.option2audio}}" type="audio/mpeg">
                                                    </audio>
                                                </div>
                                                <span for='' data-ng-bind='question.choice2' style="margin-right: 10px; font-size: 30px;" ng-click="playOption2(question.id + 'option2')" data-ng-if="!stopOption2"></span>
                                                <span for='' data-ng-bind='question.choice2' style="margin-right: 10px; color: red; font-size: 30px;" ng-click="playOption2(question.id + 'option2')" data-ng-if="stopOption2"></span>
                                            </td>
                                            <td>
                                                <div data-ng-if='question.choice2photo' style="width: 50%;">
                                                    <img data-ng-src="{{question.choice2photo}}" alt="" style="width: 100%;">
                                                </div>
                                            </td>
                                            <td>
                                                <div style="padding-left: 5px; display: flex; justify-content: center; align-items: center;">
                                                    <label><i class='fa fa-check-circle fa-3x animated zoomIn' style="color:green" data-ng-if='optionResult.successFlag2'></i></label>
                                                    <label><i class='fa fa-times-circle fa-3x animated zoomIn' style="color: red" data-ng-if='optionResult.errorFlag2'></i></label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <div>
                                                    <input id="question-choice3" type="radio" value="3" ng-model="form.choice" name="choice" data-ng-if ="realtimetest === '1'" data-ng-click='checkAnswer()' data-ng-disabled='optionDisabled'/>
                                                    <input id="question-choice3" type="radio" value="3" ng-model="form.choice" name="choice" data-ng-if ="realtimetest === '0'" data-ng-change='checkAnswer()' data-ng-disabled='optionDisabled'/>
                                                    <label class="normal" for='question-choice3' style="margin-right: 10px;"></label>
                                                </div>
                                            </td>
                                            <td>
                                                <div style="width: 10%; display: none; margin-left: 40%; text-align: center;" data-ng-if="question.option3audio">
                                                    <i class="fa {{audioClass}}" style='color: #2d2d86;cursor: pointer;font-size: 30px;position: relative;left: 30%;' ng-click="playOption3(question.id + 'option3')"> </i>
                                                    <audio controls id="{{question.id}}option3" style="display:none">
                                                        <source data-ng-src="{{question.option3audio}}" type="audio/mpeg">
                                                    </audio>
                                                </div>
                                                <span for='' data-ng-bind='question.choice3' style="margin-right: 10px; font-size: 30px;" ng-click="playOption3(question.id + 'option3')" data-ng-if="!stopOption3"></span>
                                                <span for='' data-ng-bind='question.choice3' style="margin-right: 10px; color: red; font-size: 30px;" ng-click="playOption3(question.id + 'option3')" data-ng-if="stopOption3"></span>
                                            </td>
                                            <td >
                                                <div data-ng-if='question.choice3photo' style="width: 50%;">
                                                    <img data-ng-src="{{question.choice3photo}}" alt="" style="width: 100%;">
                                                </div>
                                            </td>
                                            <td>
                                                <div style="padding-left: 5px; display: flex; justify-content: center; align-items: center;">
                                                    <label><i class='fa fa-check-circle fa-3x animated zoomIn' style="color:green" data-ng-if='optionResult.successFlag3'></i></label>
                                                    <label><i class='fa fa-times-circle fa-3x animated zoomIn' style="color: red" data-ng-if='optionResult.errorFlag3'></i></label>
                                                </div>
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                                <!-- </form> -->
                            </div>
                        </div>
                        <!-- end -->
                    </div>
                    <!-- RTL Screen -->
                    <div class="col-md-12" style="padding-right: 20px;" id="rtl_screen" ng-if="rtl_screen">
                        <!-- start   -->
                        <div id='test-question' data-ng-if='!loader && !testExpiry'>
                            <div id='test-question' data-ng-if='!loader && !testExpiry' style="max-height: 520px;">
                                <div >
                                    <div style="width: 10%; display: none; margin-left: 40%; text-align: center;" data-ng-if="question.audio">
                                        <i class="fa {{audioClass}}" style='color: #2d2d86;cursor: pointer;font-size: 30px;position: relative;left: 30%;' ng-click="playAudio(question.id)"> </i>
                                        <audio controls id="{{question.id}}" style="display:none">
                                            <source data-ng-src="{{question.audio}}" type="audio/mpeg">
                                        </audio>
                                    </div>
                                    <div style="width: 10%; display: inline-block; margin-left: 40%;" data-ng-if='question.photo'>
                                        <img data-ng-src="{{question.photo}}" alt="" style="width: 140%;">
                                    </div>
                                    <div style="width: 89%; display: inline-block;" ng-click="playAudio(question.id)" data-ng-if="!stop">
                                        <span data-ng-bind='question.question' style="font-size: 30px;"></span>
                                    </div>
                                    <div style="width: 89%; display: inline-block; color: red" ng-click="playAudio(question.id)" data-ng-if="stop">
                                        <span data-ng-bind='question.question' style="font-size: 30px;"></span>
                                    </div>
                                </div>
                                <div>
                                    <table>
                                        <tr>
                                            <td>
                                                <div>
                                                    <input id="question-choice1" type="radio" value="1" ng-model="form.choice" name="choice" data-ng-if ="realtimetest === '1'" data-ng-click='checkAnswer()' data-ng-disabled='optionDisabled'/>
                                                    <input id="question-choice1" type="radio" value="1" ng-model="form.choice" name="choice" data-ng-if ="realtimetest === '0'" data-ng-change='checkAnswer()' data-ng-disabled='optionDisabled'/>
                                                    <label class="normal" for='question-choice1' style="margin-right: 10px;"></label>
                                                </div>
                                            </td>
                                            <td>
                                                <div style="width: 10%; display: none; margin-left: 40%; text-align: center;" data-ng-if="question.option1audio">
                                                    <i class="fa {{audioClass}}" style='color: #2d2d86;cursor: pointer;font-size: 30px;position: relative;left: 30%;' ng-click="playOption1(question.id + 'option1')"> </i>
                                                    <audio controls id="{{question.id}}option1" style="display:none">
                                                        <source data-ng-src="{{question.option1audio}}" type="audio/mpeg">
                                                    </audio>
                                                </div>
                                                <span for='' data-ng-bind='question.choice1' style="margin-right: 10px; font-size: 30px;" ng-click="playOption1(question.id + 'option1')" data-ng-if="!stopOption1"></span>
                                                <span for='' data-ng-bind='question.choice1' style="margin-right: 10px; color: red; font-size: 30px;" ng-click="playOption1(question.id + 'option1')" data-ng-if="stopOption1"></span>
                                            </td>

                                            <td>
                                                <div data-ng-if='question.choice1photo' style="width: 50%;">
                                                    <img data-ng-src="{{question.choice1photo}}" alt="" style="width: 100%;">
                                                </div>
                                            </td>
                                            <td>
                                                <div style="padding-left: 5px; display: flex; justify-content: center; align-items: center; ">
                                                    <span><i class='fa fa-check-circle fa-3x animated zoomIn' style="color:green" data-ng-if='optionResult.successFlag1'></i></span>
                                                    <span><i class='fa fa-times-circle fa-3x animated zoomIn' style="color: red" data-ng-if='optionResult.errorFlag1'></i></span>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <div>
                                                    <input id="question-choice2" type="radio" value="2" ng-model="form.choice" name="choice" data-ng-if ="realtimetest === '1'" data-ng-click='checkAnswer()' data-ng-disabled='optionDisabled'/>
                                                    <input id="question-choice2" type="radio" value="2" ng-model="form.choice" name="choice" data-ng-if ="realtimetest === '0'" data-ng-change='checkAnswer()' data-ng-disabled='optionDisabled'/>
                                                    <label class="normal" for='question-choice2' style="margin-right: 10px;"></label>
                                                </div>
                                            </td>
                                            <td>
                                                <div style="width: 10%; display: none; margin-left: 40%; text-align: center;" data-ng-if="question.option2audio">
                                                    <i class="fa {{audioClass}}" style='color: #2d2d86;cursor: pointer;font-size: 30px;position: relative;left: 30%;' ng-click="playOption2(question.id + 'option2')"> </i>
                                                    <audio controls id="{{question.id}}option2" style="display:none">
                                                        <source data-ng-src="{{question.option2audio}}" type="audio/mpeg">
                                                    </audio>
                                                </div>
                                                <span for='' data-ng-bind='question.choice2' style="margin-right: 10px; font-size: 30px;" ng-click="playOption2(question.id + 'option2')" data-ng-if="!stopOption2"></span>
                                                <span for='' data-ng-bind='question.choice2' style="margin-right: 10px; color: red; font-size: 30px;" ng-click="playOption2(question.id + 'option2')" data-ng-if="stopOption2"></span>
                                            </td>
                                            <td>
                                                <div data-ng-if='question.choice2photo' style="width: 50%;">
                                                    <img data-ng-src="{{question.choice2photo}}" alt="" style="width: 100%;">
                                                </div>
                                            </td>
                                            <td>
                                                <div style="padding-left: 5px; display: flex; justify-content: center; align-items: center;">
                                                    <label><i class='fa fa-check-circle fa-3x animated zoomIn' style="color:green" data-ng-if='optionResult.successFlag2'></i></label>
                                                    <label><i class='fa fa-times-circle fa-3x animated zoomIn' style="color: red" data-ng-if='optionResult.errorFlag2'></i></label>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <div>
                                                    <input id="question-choice3" type="radio" value="3" ng-model="form.choice" name="choice" data-ng-if ="realtimetest === '1'" data-ng-click='checkAnswer()' data-ng-disabled='optionDisabled'/>
                                                    <input id="question-choice3" type="radio" value="3" ng-model="form.choice" name="choice" data-ng-if ="realtimetest === '0'" data-ng-change='checkAnswer()' data-ng-disabled='optionDisabled'/>
                                                    <label class="normal" for='question-choice3' style="margin-right: 10px;"></label>
                                                </div>
                                            </td>
                                            <td>
                                                <div style="width: 10%; display: none; margin-left: 40%; text-align: center;" data-ng-if="question.option3audio">
                                                    <i class="fa {{audioClass}}" style='color: #2d2d86;cursor: pointer;font-size: 30px;position: relative;left: 30%;' ng-click="playOption3(question.id + 'option3')"> </i>
                                                    <audio controls id="{{question.id}}option3" style="display:none">
                                                        <source data-ng-src="{{question.option3audio}}" type="audio/mpeg">
                                                    </audio>
                                                </div>
                                                <span for='' data-ng-bind='question.choice3' style="margin-right: 10px; font-size: 30px;" ng-click="playOption3(question.id + 'option3')" data-ng-if="!stopOption3"></span>
                                                <span for='' data-ng-bind='question.choice3' style="margin-right: 10px; color: red; font-size: 30px;" ng-click="playOption3(question.id + 'option3')" data-ng-if="stopOption3"></span>
                                            </td>
                                            <td >
                                                <div data-ng-if='question.choice3photo' style="width: 50%;">
                                                    <img data-ng-src="{{question.choice3photo}}" alt="" style="width: 100%;">
                                                </div>
                                            </td>
                                            <td>
                                                <div style="padding-left: 5px; display: flex; justify-content: center; align-items: center;">
                                                    <label><i class='fa fa-check-circle fa-3x animated zoomIn' style="color:green" data-ng-if='optionResult.successFlag3'></i></label>
                                                    <label><i class='fa fa-times-circle fa-3x animated zoomIn' style="color: red" data-ng-if='optionResult.errorFlag3'></i></label>
                                                </div>
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                                <!-- </form> -->
                            </div>
                        </div>
                        <!-- end -->
                    </div>
                    <!-- End of RTL Screen -->
                    <div style='height: 50px; width: 100%; position: absolute; left: 0; background: #686868; bottom: 0; padding: 8px;' data-ng-if="!rtl_screen">
                        <button type='submit' class='pull-right testbtn' data-ng-if='questionId + 1 !== test.length && !loader'> &nbsp;&nbsp; {{'test.link.next'| translate}}&nbsp;&nbsp;<i class="fa fa-arrow-right" aria-hidden="true"></i></button> &nbsp;
                        <button  type='submit' class='pull-right testbtn' data-ng-if='questionId + 1 === test.length && !loader'> &nbsp;&nbsp;{{'test.link.next'| translate}}&nbsp;&nbsp;<i class="fa fa-arrow-right" aria-hidden="true"></i></button>
                        <!-- <button type='button' class='pull-right testbtn' data-ng-if='questionId+1 !== 1 && realtimetest === "0"' data-ng-click='prevQuestion()'><i class="fa fa-arrow-left" aria-hidden="true"></i>&nbsp;&nbsp;{{'test.link.previous' | translate}} &nbsp;&nbsp;</button> &nbsp; -->
                        <button type='button' class='pull-right testbtn' data-ng-if='questionId + 1 !== 1 && prevButton && !loader' data-ng-click='prevQuestion()'><i class="fa fa-arrow-left" aria-hidden="true"></i>&nbsp;&nbsp;{{'test.link.previous'| translate}} &nbsp;&nbsp;</button> &nbsp;
                        <button type='button' class='pull-left testbtn'  data-ng-if='realtimetest === "0"' data-ng-click='closePopup()'><i class="" aria-hidden="true"></i>&nbsp;&nbsp;{{'form.quit_test'| translate}}&nbsp;&nbsp;</button>
                        <button type='button' class='pull-left testbtn' data-ng-click='funShowReview()'><i class="fa fa-sign-in" aria-hidden="true"></i>&nbsp;{{'review.review'| translate}}</button>
                    </div>
                    <div style='height: 50px; width: 100%; position: absolute; left: 0; background: #686868; bottom: 0; padding: 8px;' data-ng-if="rtl_screen">
                        <button type='submit' class='pull-right testbtn' data-ng-if='questionId + 1 !== test.length && !loader'> &nbsp;&nbsp; {{'test.link.next'| translate}}&nbsp;&nbsp;<i class="fa fa-arrow-left" aria-hidden="true"></i></button> &nbsp;
                        <button  type='submit' class='pull-right testbtn' data-ng-if='questionId + 1 === test.length && !loader'> &nbsp;&nbsp;{{'test.link.next'| translate}}&nbsp;&nbsp;<i class="fa fa-arrow-left" aria-hidden="true"></i></button>
                        <!-- <button type='button' class='pull-right testbtn' data-ng-if='questionId+1 !== 1 && realtimetest === "0"' data-ng-click='prevQuestion()'><i class="fa fa-arrow-right" aria-hidden="true"></i>&nbsp;&nbsp;{{'test.link.previous' | translate}} &nbsp;&nbsp;</button> &nbsp; -->
                        <button type='button' class='pull-right testbtn' data-ng-if='questionId + 1 !== 1 && !loader' data-ng-click='prevQuestion()'><i class="fa fa-arrow-right" aria-hidden="true"></i>&nbsp;&nbsp;{{'test.link.previous'| translate}} &nbsp;&nbsp;</button> &nbsp;
                        <button type='button' class='pull-left testbtn'  data-ng-if='realtimetest === "0"' data-ng-click='closePopup()'><i class="" aria-hidden="true"></i>&nbsp;&nbsp;{{'form.quit_test'| translate}}&nbsp;&nbsp;</button>
                        <button type='button' class='pull-left testbtn' data-ng-click='funShowReview()'><i class="fa fa-sign-in" aria-hidden="true"></i>&nbsp;{{'review.review'| translate}}</button>
                    </div>
            </div>
        </div>
    </div>
</div>
<!-- timeout msg -->
<div id="popup-background" data-ng-if="okpop_timeout || okpop_unanswered || okpop_marked || okpop_endReview"></div>
<div class = "PopupPanel animated slideInDown" data-ng-if="okpop_timeout">
    <div  style="text-align: center; margin-top: 60px;" id="popup">
        <h4>
            {{'form.test_timeout_msg'| translate}}
        </h4>
        <br>
        <button type='button' class='btn btn-lg' ng-click="MsgOk()" style="">{{'resume.ok'| translate }}</button>

    </div>
</div>
<!-- unanswered msg -->
<div class = "PopupPanel animated slideInDown" data-ng-if="okpop_unanswered">
    <div  style="text-align: center; margin-top: 60px;" id="popup">
        <h4>
            {{'review.no_incomplete_question'| translate}}
        </h4>
        <br>
        <button type='button' class='btn btn-lg' ng-click="okMsg()" style="">{{'resume.ok'| translate }}</button>

    </div>
</div>
<!-- marked msg -->
<div class = "PopupPanel animated slideInDown" data-ng-if="okpop_marked">
    <div  style="text-align: center; margin-top: 60px;" id="popup">
        <h4>
            {{'review.no_questions_have_been_flagged'| translate}}
        </h4>
        <br>
        <button type='button' class='btn btn-lg' ng-click="okMsg()" style="">{{'resume.ok'| translate }}</button>

    </div>
</div>
<!-- End Test msg -->
<div class = "PopupPanel animated slideInDown" data-ng-if="okpop_endReview">
    <div  style="text-align: center; margin-top: 60px;" id="popup">
        <h4>
            {{'review.end_the_current_review'| translate}}<br><br>
            {{'review.are_you_sure'| translate}}
        </h4>
        <br>
        <button type='button' class='btn btn-lg' ng-click="endAllProcess()" style="font-weight: bold">{{'resume.ok'| translate }}</button>
        <button type='button' class='btn btn-lg' ng-click="cancelEndAllProcess()" style="font-weight: bold">{{'table.cancel'| translate }}</button>

    </div>
</div>
